---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "qdrant-cloud_accounts_cluster Resource - terraform-provider-qdrant-cloud"
subcategory: ""
description: |-
  Account Cluster Resource
---

# qdrant-cloud_accounts_cluster (Resource)

Account Cluster Resource

## Example Usage

```terraform
// Setup Terraform, including the qdrant-cloud providers
terraform {
  required_version = ">= 1.7.0"
  required_providers {
    qdrant-cloud = {
      source  = "qdrant/qdrant-cloud"
      version = ">=1.1.0"
    }
  }
}

// Add the provider to specify some provider wide settings
provider "qdrant-cloud" {
  api_key    = "" // API Key generated in Qdrant Cloud (required)
  account_id = "" // The default account ID you want to use in Qdrant Cloud (can be overriden on resource level)
}

// Get the cluster package
data "qdrant-cloud_booking_packages" "all_packages" {
  cloud_provider = "aws"       // Required. Please refer to the documentation (https://registry.terraform.io/providers/qdrant/qdrant-cloud/latest/docs/guides/getting-started) for the available options.
  cloud_region   = "us-west-2" // Required. Please refer to the documentation (https://registry.terraform.io/providers/qdrant/qdrant-cloud/latest/docs/guides/getting-started) for the available options.
}
locals {
  desired_package = [
    for pkg in data.qdrant-cloud_booking_packages.all_packages.packages : pkg
    if pkg.resource_configuration[0].cpu == "16000m" && pkg.resource_configuration[0].ram == "64Gi"
  ]
}

// Create a cluster
resource "qdrant-cloud_accounts_cluster" "example" {
  name           = "example-cluster"
  cloud_provider = data.qdrant-cloud_booking_packages.all_packages.cloud_provider
  cloud_region   = data.qdrant-cloud_booking_packages.all_packages.cloud_region
  configuration {
    number_of_nodes = 1
    database_configuration {
      service {
        jwt_rbac = true
      }
    }
    node_configuration {
      package_id = local.desired_package[0].id
    }
  }
}

// Create an V2 Auth Key, which refers to the cluster provided above
resource "qdrant-cloud_accounts_database_api_key_v2" "example-key" {
  cluster_id = qdrant-cloud_accounts_cluster.example.id
  name       = "example-key"
}

// Output some of the cluster info
output "cluster_id" {
  value = qdrant-cloud_accounts_cluster.example.id
}

output "cluster_version" {
  value = qdrant-cloud_accounts_cluster.example.version
}

output "url" {
  value = qdrant-cloud_accounts_cluster.example.url
}

// Output the Database API Key (which can be used to access the database cluster)
output "key" {
  value = qdrant-cloud_accounts_database_api_key_v2.example-key.key
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `cloud_provider` (String) Cluster Schema Cloud provider where the cluster is hosted.
Must match one of the provider IDs returned by the "qdrant.cloud.platform.v1.PlatformService.ListCloudProviders" method.
For Hybrid cloud this should be "hybrid". field
- `cloud_region` (String) Cluster Schema Cloud provider region where the cluster is hosted.
Must match one of the region IDs returned by the "qdrant.cloud.platform.v1.PlatformService.ListCloudProviderRegions" method.
For hybrid this should be the hybrid cloud environment ID. field
- `configuration` (Block List, Min: 1, Max: 1) Cluster Schema The configuration options of a cluster field (see [below for nested schema](#nestedblock--configuration))
- `name` (String) Cluster Schema Name of the cluster field

### Optional

- `account_id` (String) Cluster Schema Identifier of the account field
- `private_region_id` (String, Deprecated) Cluster Schema Identifier of the Hybrid cloud region field

### Read-Only

- `created_at` (String) Cluster Schema Timestamp when the cluster is created field
- `id` (String) Cluster Schema Identifier of the cluster field
- `marked_for_deletion_at` (String) Cluster Schema Timestamp when this cluster was marked for deletion field
- `status` (List of Object) Cluster Schema The status of the cluster field (see [below for nested schema](#nestedatt--status))
- `url` (String) Cluster Schema The URL of the endpoint of the Qdrant cluster field

<a id="nestedblock--configuration"></a>
### Nested Schema for `configuration`

Required:

- `node_configuration` (Block List, Min: 1, Max: 1) Cluster Schema The node configuration options of a cluster field (see [below for nested schema](#nestedblock--configuration--node_configuration))
- `number_of_nodes` (Number) Cluster Schema The number of nodes in the cluster field

Optional:

- `database_configuration` (Block List, Max: 1) Configuration for the Qdrant database engine, primarily for hybrid cloud setups. (see [below for nested schema](#nestedblock--configuration--database_configuration))
- `version` (String) Cluster Schema Version of the Qdrant cluster field

<a id="nestedblock--configuration--node_configuration"></a>
### Nested Schema for `configuration.node_configuration`

Required:

- `package_id` (String) Cluster Schema The package identifier (specifying: CPU, Memory, and disk size) field

Optional:

- `resource_configurations` (Block List) The resource configuration of the package (see [below for nested schema](#nestedblock--configuration--node_configuration--resource_configurations))

<a id="nestedblock--configuration--node_configuration--resource_configurations"></a>
### Nested Schema for `configuration.node_configuration.resource_configurations`

Required:

- `amount` (Number) The amount of the resource
- `resource_type` (String) The type of the resource
- `resource_unit` (String) The unit of the resource



<a id="nestedblock--configuration--database_configuration"></a>
### Nested Schema for `configuration.database_configuration`

Optional:

- `collection` (Block List, Max: 1) Default collection parameters. (see [below for nested schema](#nestedblock--configuration--database_configuration--collection))
- `inference` (Block List, Max: 1) Inference service configuration. (see [below for nested schema](#nestedblock--configuration--database_configuration--inference))
- `log_level` (String) Logging level for the database.
- `service` (Block List, Max: 1) Service-related configuration. (see [below for nested schema](#nestedblock--configuration--database_configuration--service))
- `storage` (Block List, Max: 1) Storage-related configuration. (see [below for nested schema](#nestedblock--configuration--database_configuration--storage))
- `tls` (Block List, Max: 1) TLS configuration for the database. (see [below for nested schema](#nestedblock--configuration--database_configuration--tls))

<a id="nestedblock--configuration--database_configuration--collection"></a>
### Nested Schema for `configuration.database_configuration.collection`

Optional:

- `replication_factor` (Number)
- `vectors` (Block List, Max: 1) (see [below for nested schema](#nestedblock--configuration--database_configuration--collection--vectors))
- `write_consistency_factor` (Number)

<a id="nestedblock--configuration--database_configuration--collection--vectors"></a>
### Nested Schema for `configuration.database_configuration.collection.vectors`

Optional:

- `on_disk` (Boolean)



<a id="nestedblock--configuration--database_configuration--inference"></a>
### Nested Schema for `configuration.database_configuration.inference`

Optional:

- `enabled` (Boolean)


<a id="nestedblock--configuration--database_configuration--service"></a>
### Nested Schema for `configuration.database_configuration.service`

Optional:

- `api_key` (Block List, Max: 1) Secret to use for the main API key. (see [below for nested schema](#nestedblock--configuration--database_configuration--service--api_key))
- `enable_tls` (Boolean)
- `jwt_rbac` (Boolean)
- `read_only_api_key` (Block List, Max: 1) Secret to use for the read-only API key. (see [below for nested schema](#nestedblock--configuration--database_configuration--service--read_only_api_key))

<a id="nestedblock--configuration--database_configuration--service--api_key"></a>
### Nested Schema for `configuration.database_configuration.service.api_key`

Required:

- `secret_key` (String) The key within the secret.
- `secret_name` (String) The name of the secret.


<a id="nestedblock--configuration--database_configuration--service--read_only_api_key"></a>
### Nested Schema for `configuration.database_configuration.service.read_only_api_key`

Required:

- `secret_key` (String) The key within the secret.
- `secret_name` (String) The name of the secret.



<a id="nestedblock--configuration--database_configuration--storage"></a>
### Nested Schema for `configuration.database_configuration.storage`

Optional:

- `performance` (Block List, Max: 1) (see [below for nested schema](#nestedblock--configuration--database_configuration--storage--performance))

<a id="nestedblock--configuration--database_configuration--storage--performance"></a>
### Nested Schema for `configuration.database_configuration.storage.performance`

Optional:

- `async_scorer` (Boolean)
- `optimizer_cpu_budget` (Number)



<a id="nestedblock--configuration--database_configuration--tls"></a>
### Nested Schema for `configuration.database_configuration.tls`

Optional:

- `cert` (Block List, Max: 1) Secret to use for the certificate. (see [below for nested schema](#nestedblock--configuration--database_configuration--tls--cert))
- `key` (Block List, Max: 1) Secret to use for the private key. (see [below for nested schema](#nestedblock--configuration--database_configuration--tls--key))

<a id="nestedblock--configuration--database_configuration--tls--cert"></a>
### Nested Schema for `configuration.database_configuration.tls.cert`

Required:

- `secret_key` (String) The key within the secret.
- `secret_name` (String) The name of the secret.


<a id="nestedblock--configuration--database_configuration--tls--key"></a>
### Nested Schema for `configuration.database_configuration.tls.key`

Required:

- `secret_key` (String) The key within the secret.
- `secret_name` (String) The name of the secret.





<a id="nestedatt--status"></a>
### Nested Schema for `status`

Read-Only:

- `nodes_up` (Number)
- `phase` (String)
- `reason` (String)
- `resources` (List of Object) (see [below for nested schema](#nestedobjatt--status--resources))
- `restarted_at` (String)
- `scalability_info` (List of Object) (see [below for nested schema](#nestedobjatt--status--scalability_info))
- `version` (String)

<a id="nestedobjatt--status--resources"></a>
### Nested Schema for `status.resources`

Read-Only:

- `cpu` (List of Object) (see [below for nested schema](#nestedobjatt--status--resources--cpu))
- `disk` (List of Object) (see [below for nested schema](#nestedobjatt--status--resources--disk))
- `ram` (List of Object) (see [below for nested schema](#nestedobjatt--status--resources--ram))

<a id="nestedobjatt--status--resources--cpu"></a>
### Nested Schema for `status.resources.cpu`

Read-Only:

- `additional` (Number)
- `available` (Number)
- `base` (Number)
- `complimentary` (Number)
- `reserved` (Number)


<a id="nestedobjatt--status--resources--disk"></a>
### Nested Schema for `status.resources.disk`

Read-Only:

- `additional` (Number)
- `available` (Number)
- `base` (Number)
- `complimentary` (Number)
- `reserved` (Number)


<a id="nestedobjatt--status--resources--ram"></a>
### Nested Schema for `status.resources.ram`

Read-Only:

- `additional` (Number)
- `available` (Number)
- `base` (Number)
- `complimentary` (Number)
- `reserved` (Number)



<a id="nestedobjatt--status--scalability_info"></a>
### Nested Schema for `status.scalability_info`

Read-Only:

- `reason` (String)
- `status` (String)





## Import

`qdrant-cloud_accounts_cluster` can be imported using the cluster ID, e.g.

```
$ terraform import qdrant-cloud_accounts_cluster.example 12345678-0000-0000-0000-1234567890ab
```