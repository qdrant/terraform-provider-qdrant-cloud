---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "qdrant-cloud_accounts_user_roles Resource - terraform-provider-qdrant-cloud"
subcategory: ""
description: |-
  User Roles resource for Qdrant Cloud (non-authoritative add-only per user; user specified by email).
---

# qdrant-cloud_accounts_user_roles (Resource)

## Example Usage

```terraform
terraform {
  required_version = ">= 1.7.0"
  required_providers {
    qdrant-cloud = {
      source  = "qdrant/qdrant-cloud"
      version = ">=1.13.0"
    }
  }
}

# Provider configuration
provider "qdrant-cloud" {
  api_key    = "" # API Key generated in Qdrant Cloud (required)
  account_id = "" # Default account ID (can be overridden per resource)
}

# Manage role assignments for a single user
resource "qdrant-cloud_accounts_user_roles" "example" {
  # Optional; defaults to provider.account_id
  # account_id = ""

  user_email = "alice@example.com"

  # Role IDs to assign to this user (unordered)
  role_ids = [
    "11111111-1111-1111-1111-111111111111",
    "22222222-2222-2222-2222-222222222222",
  ]

  # Optional: retain roles after destroy (skip revocation)
  # keep_on_destroy = true
}

# Outputs
output "user_id" {
  value = qdrant-cloud_accounts_user_roles.example.user_id
}

output "ensured_role_ids" {
  value = qdrant-cloud_accounts_user_roles.example.role_ids
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `role_ids` (Set of String) Authoritative set of role IDs assigned to this user (unordered).
- `user_email` (String) User Roles Schema User email (will be resolved to user_id via AccountService.ListAccountMembers) field

### Optional

- `account_id` (String) User Roles Schema Account ID field
- `keep_on_destroy` (Boolean) If true, the provider will not revoke roles on destroy.

### Read-Only

- `id` (String) The ID of this resource.
- `user_id` (String) User Roles Schema Resolved User ID field



## Notes

This resource manages **role assignments** for a single user (identified by email) within your Qdrant Cloud account.

### Behavior

- **Create**: Assigns the listed `role_ids` to the user (resolved by email).  
- **Update**: Adds newly specified roles; does not revoke existing roles outside of Terraform’s management.  
- **Delete**: Revokes only the roles listed in this resource (unless `keep_on_destroy = true`).  
- **Import**: Not supported — reconciliation happens automatically during creation.

### Attributes

- `user_id` — Resolved unique identifier (UUID) for the specified user.  
- `role_ids` — Set of role IDs managed by this resource.  
- `keep_on_destroy` — Prevents revocation of managed roles during destroy (boolean).  

### Important Notes

- This resource is **non-authoritative** — it only manages the roles explicitly listed in `role_ids`.  
- The user must already exist in the account.  
- On destroy, roles in `role_ids` are revoked unless `keep_on_destroy` is set to `true`.
